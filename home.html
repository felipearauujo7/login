<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Emprestimos</title>
</head>
<style>
    body {
        font-family: Arial, Helvetica, sans-serif;
        background-image: linear-gradient(90deg, rgb(45, 45, 206), gray);
        background-position: center center;
        color: black;
        margin: 0;
    }

    #buscador {
        margin-top: 5px;
        text-align: center;
    }

    #searchInput {
        border-radius: 10px;
        padding: 5px;
    }

    #botao {
        padding: 4px;
        cursor: pointer;
    }

    table {
        width: 98%;
        margin: auto;
        border-collapse: collapse;
        position: relative;
        background-color: white;
    }

    thead>tr>th {
        position: sticky;
        top: -1px;
        background-color: gray;
    }

    thead,
    tfoot {
        background-color: gray;
    }

    caption {
        font-weight: bolder;
        font-size: 1.3em;
        padding: 10px;
        color: white;
    }

    tbody tr:nth-child(even) {
        background-color: rgba(128, 128, 128, 0.288);
    }

    th {
        background-color: gray;
        height: 40px;
    }

    th,
    td {
        border: 1px solid black;
        padding: 2px;
        text-align: center;
    }

    #container {
        overflow-x: auto;
        max-height: 690px;
        overflow-y: scroll;
    }

    .saida {
        background-color: rgba(255, 0, 0, 0.377);
    }
</style>

<body>
    <div id="container">
        <div id="buscador">
            <input type="text" id="searchInput" placeholder="Buscar por nome">
            <button id="botao" onclick="searchTable()">Buscar</button>
        </div>
        <table>
            <caption>EMPRÉSTIMOS</caption>
            <thead>
                <tr>
                    <th>NOME</th>
                    <th>CAPITAL</th>
                    <th>%</th>
                    <th>JUROS</th>
                    <th>TOTAL</th>
                    <th>DATA</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <th>Mirely Barao</th>
                    <td>250.00</td>
                    <td>20%</td>
                    <td>50.00</td>
                    <td class="total">300.00</td>
                    <td>03/03</td>
                </tr>
                <tr>
                    <th>Expedito</th>
                    <td>200.00</td>
                    <td>30%</td>
                    <td>60.00</td>
                    <td class="total">260.00</td>
                    <td>03/03</td>
                </tr>
                <tr>
                    <th>Daniele/mario</th>
                    <td>220.00</td>
                    <td>20%</td>
                    <td>44.00</td>
                    <td class="total">264.00</td>
                    <td>05/03</td>
                </tr>
                <tr>
                    <th>Joao Pedro</th>
                    <td>500.00</td>
                    <td>25%</td>
                    <td>120.00</td>
                    <td class="total">620.00</td>
                    <td>05/02</td>
                </tr>
                <tr>
                    <th>Joao Pedro</th>
                    <td>232.00</td>
                    <td>20%</td>
                    <td>46.00</td>
                    <td class="total">278.00</td>
                    <td>05/02</td>
                </tr>
                <tr>
                    <th>Expedito</th>
                    <td>200.00</td>
                    <td>20%</td>
                    <td>40.00</td>
                    <td class="total">240.00</td>
                    <td>05/03</td>
                </tr>
                <tr>
                    <th>Diogenes</th>
                    <td>121.50</td>
                    <td>0%</td>
                    <td>0.00</td>
                    <td class="total">61.50</td>
                    <td>06/03</td>
                </tr>
                <tr>
                    <th>Mario</th>
                    <td>80.00</td>
                    <td>25%</td>
                    <td>20.00</td>
                    <td class="total">100.00</td>
                    <td>06/03</td>
                </tr>
                <tr>
                    <th>Mario</th>
                    <td>150.00</td>
                    <td>20%</td>
                    <td>30.00</td>
                    <td class="total">180.00</td>
                    <td>06/03</td>
                </tr>
                <tr>
                    <th>Mario</th>
                    <td>600.00</td>
                    <td>20%</td>
                    <td>120.00</td>
                    <td class="total">720.00</td>
                    <td>06/03</td>
                </tr>
                <tr>
                    <th>Mario</th>
                    <td>50.00</td>
                    <td>20%</td>
                    <td>10.00</td>
                    <td class="total">60.00</td>
                    <td>06/03</td>
                </tr>
                <tr>
                    <th>Raylanne</th>
                    <td>202.00</td>
                    <td>20%</td>
                    <td>40.00</td>
                    <td class="total">242.00</td>
                    <td>07/03</td>
                </tr>
                <tr>
                    <th>Porcao</th>
                    <td>400.00</td>
                    <td>20%</td>
                    <td>80.00</td>
                    <td class="total">480.00</td>
                    <td>07/03</td>
                </tr>
                <tr>
                    <th>Natan</th>
                    <td>300.00</td>
                    <td>20%</td>
                    <td>60.00</td>
                    <td class="total">360.00</td>
                    <td>07/02</td>
                </tr>
                <tr>
                    <th>Lucas Brenner</th>
                    <td>200.00</td>
                    <td>20%</td>
                    <td>40.00</td>
                    <td class="total">240.00</td>
                    <td>07/03</td>
                </tr>
                <tr>
                    <th>JV Waquim</th>
                    <td>400.00</td>
                    <td>20%</td>
                    <td>80.00</td>
                    <td class="total">480.00</td>
                    <td>10/03</td>
                </tr>
                <tr>
                    <th>Jefferson Naylton</th>
                    <td>150.00</td>
                    <td>30%</td>
                    <td>50.00</td>
                    <td class="total">200.00</td>
                    <td>10/03</td>
                </tr>
                <tr>
                    <th>Debora</th>
                    <td>160.00</td>
                    <td>10%</td>
                    <td>20.00</td>
                    <td class="total">180.00</td>
                    <td>10/03</td>
                </tr>
                <tr>
                    <th>João Amg Lara</th>
                    <td>200.00</td>
                    <td>20%</td>
                    <td>40.00</td>
                    <td class="total">240.00</td>
                    <td>10/03</td>
                </tr>
                <tr>
                    <th>Natan</th>
                    <td>250.00</td>
                    <td>20%</td>
                    <td>50.00</td>
                    <td class="total">300.00</td>
                    <td>11/02</td>
                </tr>
                <tr>
                    <th>Sara Bruno</th>
                    <td>150.00</td>
                    <td>20%</td>
                    <td>30.00</td>
                    <td class="total">180.00</td>
                    <td>11/03</td>
                </tr>
                <tr>
                    <th>Natan</th>
                    <td>120.00</td>
                    <td>25%</td>
                    <td>30.00</td>
                    <td class="total">150.00</td>
                    <td>12/02</td>
                </tr>
                <tr>
                    <th>Mirely Barao</th>
                    <td>150.00</td>
                    <td>20%</td>
                    <td>30.00</td>
                    <td class="total">180.00</td>
                    <td>12/03</td>
                </tr>
                <tr>
                    <th>Joianny</th>
                    <td>300.00</td>
                    <td>20%</td>
                    <td>60.00</td>
                    <td class="total">360.00</td>
                    <td>12/03</td>
                </tr>
                <tr>
                    <th>Lucas Brenner</th>
                    <td>100.00</td>
                    <td>20%</td>
                    <td>20.00</td>
                    <td class="total">120.00</td>
                    <td>12/03</td>
                </tr>
                <tr>
                    <th>Marcia Sjp</th>
                    <td>200.00</td>
                    <td>20%</td>
                    <td>40.00</td>
                    <td class="total">240.00</td>
                    <td>12/03</td>
                </tr>
                <tr>
                    <th>Sarinha</th>
                    <td>500.00</td>
                    <td>20%</td>
                    <td>100.00</td>
                    <td class="total">600.00</td>
                    <td>13/03</td>
                </tr>
                <tr>
                    <th>Raynnara Amg Lara</th>
                    <td>300.00</td>
                    <td>20%</td>
                    <td>60.00</td>
                    <td class="total">360.00</td>
                    <td>13/01</td>
                </tr>
                <tr>
                    <th>Lara Julianna</th>
                    <td>184.00</td>
                    <td>20%</td>
                    <td>36.00</td>
                    <td class="total">220.00</td>
                    <td>13/02</td>
                </tr>
                <tr>
                    <th>Maria Arcangela</th>
                    <td>184.00</td>
                    <td>20%</td>
                    <td>36.00</td>
                    <td class="total">220.00</td>
                    <td>14/03</td>
                </tr>
                <tr>
                    <th>Natan</th>
                    <td>150.00</td>
                    <td>20%</td>
                    <td>30.00</td>
                    <td class="total">180.00</td>
                    <td>14/02</td>
                </tr>
                <tr>
                    <th>Murilo</th>
                    <td>500.00</td>
                    <td>20%</td>
                    <td>100.00</td>
                    <td class="total">600.00</td>
                    <td>15/03</td>
                </tr>
                <tr>
                    <th>Guilherme</th>
                    <td>136.00</td>
                    <td>12%</td>
                    <td>27.00</td>
                    <td class="total">83.00</td>
                    <td>16/03</td>
                </tr>
                <tr>
                    <th>Natan</th>
                    <td>200.00</td>
                    <td>10%</td>
                    <td>20.00</td>
                    <td class="total">220.00</td>
                    <td>16/02</td>
                </tr>
                <tr>
                    <th>Geovana Claro</th>
                    <td>240.00</td>
                    <td>20%</td>
                    <td>48.00</td>
                    <td class="total">288.00</td>
                    <td>16/10</td>
                </tr>
                <tr>
                    <th>Natan</th>
                    <td>200.00</td>
                    <td>20%</td>
                    <td>40.00</td>
                    <td class="total">240.00</td>
                    <td>17/02</td>
                </tr>
                <tr>
                    <th>Lara Julianna</th>
                    <td>190.00</td>
                    <td>20%</td>
                    <td>38.00</td>
                    <td class="total">228.00</td>
                    <td>17/02</td>
                </tr>
                <tr>
                    <th>Victor Techfilms</th>
                    <td>400.00</td>
                    <td>25%</td>
                    <td>100.00</td>
                    <td class="total">500.00</td>
                    <td>18/03</td>
                </tr>
                <tr>
                    <th>Ikaro</th>
                    <td>300.00</td>
                    <td>15%</td>
                    <td>40.00</td>
                    <td class="total">340.00</td>
                    <td>18/03</td>
                </tr>
                <tr>
                    <th>Daniele/Mario</th>
                    <td>400.00</td>
                    <td>20%</td>
                    <td>80.00</td>
                    <td class="total">480.00</td>
                    <td>19/12</td>
                </tr>
                <tr>
                    <th>Diogenes</th>
                    <td>150.00</td>
                    <td>12%</td>
                    <td>20.00</td>
                    <td class="total">170.00</td>
                    <td>19/03</td>
                </tr>
                <tr>
                    <th>Natan</th>
                    <td>300.00</td>
                    <td>20%</td>
                    <td>60.00</td>
                    <td class="total">360.00</td>
                    <td>20/02</td>
                </tr>
                <tr>
                    <th>Lucas Brenner</th>
                    <td>100.00</td>
                    <td>20%</td>
                    <td>20.00</td>
                    <td class="total">120.00</td>
                    <td>20/03</td>
                </tr>
                <tr>
                    <th>Murilo</th>
                    <td>500.00</td>
                    <td>20%</td>
                    <td>100.00</td>
                    <td class="total">600.00</td>
                    <td>20/03</td>
                </tr>
                <tr>
                    <th>Natan</th>
                    <td>200.00</td>
                    <td>20%</td>
                    <td>40.00</td>
                    <td class="total">240.00</td>
                    <td>21/02</td>
                </tr>
                <tr>
                    <th>Sara Bruno</th>
                    <td>200.00</td>
                    <td>20%</td>
                    <td>40.00</td>
                    <td class="total">240.00</td>
                    <td>22/02</td>
                </tr>
                <tr>
                    <th>Mae Daniele/Mario</th>
                    <td>180.00</td>
                    <td>20%</td>
                    <td>30.00</td>
                    <td class="total">210.00</td>
                    <td>23/02</td>
                </tr>
                <tr>
                    <th>Mae Daniele/Mario</th>
                    <td>120.00</td>
                    <td>18%</td>
                    <td>20.00</td>
                    <td class="total">140.00</td>
                    <td>23/02</td>
                </tr>
                <tr>
                    <th>Andre Phelipe</th>
                    <td>300.00</td>
                    <td>20%</td>
                    <td>60.00</td>
                    <td class="total">360.00</td>
                    <td>24/03</td>
                </tr>
                <tr>
                    <th>Abdias</th>
                    <td>200.00</td>
                    <td>20%</td>
                    <td>40.00</td>
                    <td class="total">240.00</td>
                    <td>24/03</td>
                </tr>
                <tr>
                    <th>Natan</th>
                    <td>94.00</td>
                    <td>15%</td>
                    <td>14.00</td>
                    <td class="total">108.00</td>
                    <td>25/02</td>
                </tr>
                <tr>
                    <th>Jefferson Naylton</th>
                    <td>150.00</td>
                    <td>25%</td>
                    <td>50.00</td>
                    <td class="total">200.00</td>
                    <td>26/02</td>
                </tr>
                <tr>
                    <th>Lara Julianna</th>
                    <td>200.00</td>
                    <td>20%</td>
                    <td>40.00</td>
                    <td class="total">240.00</td>
                    <td>26/02</td>
                </tr>
                <tr>
                    <th>Lara Julianna</th>
                    <td>200.00</td>
                    <td>20%</td>
                    <td>40.00</td>
                    <td class="total">240.00</td>
                    <td>26/02</td>
                </tr>
                <tr>
                    <th>Marcio Nery</th>
                    <td>400.00</td>
                    <td>20%</td>
                    <td>80.00</td>
                    <td class="total">480.00</td>
                    <td>26/03</td>
                </tr>
                <tr>
                    <th>Lucas Brenner</th>
                    <td>100.00</td>
                    <td>20%</td>
                    <td>20.00</td>
                    <td class="total">120.00</td>
                    <td>27/02</td>
                </tr>
                <tr>
                    <th>Iago Primo</th>
                    <td>500.00</td>
                    <td>20%</td>
                    <td>100.00</td>
                    <td class="total">600.00</td>
                    <td>30/02</td>
                </tr>
                <tr>
                    <th>Murilo</th>
                    <td>200.00</td>
                    <td>20%</td>
                    <td>40.00</td>
                    <td class="total">240.00</td>
                    <td>30/02</td>
                </tr>
                <tr>
                    <th>Lucas Brenner</th>
                    <td>100.00</td>
                    <td>20%</td>
                    <td>20.00</td>
                    <td class="total">120.00</td>
                    <td>30/02</td>
                </tr>
                <tr>
                    <th>Mai</th>
                    <td>400.00</td>
                    <td>0%</td>
                    <td>0.00</td>
                    <td class="total">400.00</td>
                    <td>0/0</td>
                </tr>
                <tr>
                    <th>Matheus M</th>
                    <td>3500.00</td>
                    <td>0%</td>
                    <td>250.00</td>
                    <td class="total">2250.00</td>
                    <td>0/0</td>
                </tr>
                <tr>
                    <th>Helyton</th>
                    <td>3600.00</td>
                    <td>0%</td>
                    <td>0.00</td>
                    <td class="total">3450.00</td>
                    <td>0/0</td>
                </tr>
                <tr>
                    <th>Lucas Oeiras</th>
                    <td>700.00</td>
                    <td>0%</td>
                    <td>0.00</td>
                    <td class="total">600.00</td>
                    <td>0/0</td>
                </tr>
                <tr>
                    <th>Natan</th>
                    <td>200.00</td>
                    <td>0%</td>
                    <td>0.00</td>
                    <td class="total">200.00</td>
                    <td>0/0</td>
                </tr>
                <tr>
                    <th>Maria Clara</th>
                    <td>1971.00</td>
                    <td>20%</td>
                    <td>300.00</td>
                    <td class="total">2271.00</td>
                    <td>0/0</td>
                </tr>
            </tbody>
            <tfoot>
                <tr>
                    <th colspan="5">CAPITAL TOTAL</th>
                    <td id="soma"></td>
                </tr>
            </tfoot>
        </table>
    </div>

    <script>
        function searchTable() {
            var input, filter, table, tr, td, i, txtValue;
            input = document.getElementById("searchInput");
            filter = input.value.toUpperCase();
            table = document.querySelector("table");
            tr = table.getElementsByTagName("tr");

            for (i = 0; i < tr.length; i++) {
                td = tr[i].getElementsByTagName("th")[0];
                if (td) {
                    txtValue = td.textContent || td.innerText;
                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                        tr[i].style.display = "";
                    } else {
                        tr[i].style.display = "none";
                    }
                }
            }
        }

        let total = document.querySelectorAll('.total');

        let valorFinal = Array.from(total).reduce((acc, item) => acc + parseFloat(item.textContent || item.innerText), 0);

        console.log(valorFinal);

        let soma = document.querySelector('#soma');

        valorFinal = valorFinal.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' });

        soma.innerHTML = valorFinal;


    </script>

</body>

</html>