<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Emprestimos</title>
</head>
<style>
    body {
        font-family: Arial, Helvetica, sans-serif;
        background-image: linear-gradient(90deg, rgb(45, 45, 206), gray);
        background-position: center center;
        color: black;
        margin: 0;
    }

    #buscador {
        margin-top: 5px;
        text-align: center;
    }

    #searchInput {
        border-radius: 10px;
        padding: 5px;
    }

    #botao {
        padding: 4px;
        cursor: pointer;
    }

    table {
        width: 98%;
        margin: auto;
        border-collapse: collapse;
        position: relative;
        background-color: white;
    }

    thead>tr>th {
        position: sticky;
        top: -1px;
        background-color: gray;
    }

    thead,
    tfoot {
        background-color: gray;
    }

    caption {
        font-weight: bolder;
        font-size: 1.3em;
        padding: 10px;
        color: white;
    }

    tbody tr:nth-child(even) {
        background-color: rgba(128, 128, 128, 0.288);
    }

    th {
        background-color: gray;
        height: 40px;
    }

    th,
    td {
        border: 1px solid black;
        padding: 2px;
        text-align: center;
    }

    #container {
        overflow-x: auto;
        max-height: 690px;
        overflow-y: scroll;
    }

    .saida {
        background-color: rgba(255, 0, 0, 0.377);
    }
</style>

<body>
    <div id="container">
        <div id="buscador">
            <input type="text" id="searchInput" placeholder="Buscar por nome">
            <button id="botao" onclick="searchTable()">Buscar</button>
        </div>
        <table>
            <caption>EMPRÃ‰STIMOS</caption>
            <thead>
                <tr>
                    <th>NOME</th>
                    <th>CAPITAL</th>
                    <th>%</th>
                    <th>JUROS</th>
                    <th>TOTAL</th>
                    <th>DATA</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <th>Lucas Brenner</th>
                    <td>100.00</td>
                    <td>30%</td>
                    <td>30.00</td>
                    <td class="total">130.00</td>
                    <td>01/02</td>
                </tr>
                <tr>
                    <th>Lucas Brenner</th>
                    <td>180.00</td>
                    <td>20%</td>
                    <td>36.00</td>
                    <td class="total">216.00</td>
                    <td>02/02</td>
                </tr>
                <tr>
                    <th>Helyton</th>
                    <td>400.00</td>
                    <td>20%</td>
                    <td>80.00</td>
                    <td class="total">480.00</td>
                    <td>02/02</td>
                </tr>
                <tr>
                    <th>Helyton</th>
                    <td>200.00</td>
                    <td>10%</td>
                    <td>20.00</td>
                    <td class="total">220.00</td>
                    <td>02/02</td>
                </tr>
                <tr>
                    <th>Mirely Barao</th>
                    <td>250.00</td>
                    <td>20%</td>
                    <td>50.00</td>
                    <td class="total">300.00</td>
                    <td>03/02</td>
                </tr>
                <tr>
                    <th>Lucas Brenner</th>
                    <td>200.00</td>
                    <td>20%</td>
                    <td>40.00</td>
                    <td class="total">240.00</td>
                    <td>04/02</td>
                </tr>
                <tr>
                    <th>Mario</th>
                    <td>500.00</td>
                    <td>20%</td>
                    <td>100.00</td>
                    <td class="total">600.00</td>
                    <td>05/02</td>
                </tr>
                <tr>
                    <th>Joao Pedro</th>
                    <td>50.00</td>
                    <td>40%</td>
                    <td>20.00</td>
                    <td class="total">70.00</td>
                    <td>05/02</td>
                </tr>
                <tr>
                    <th>Joao Pedro</th>
                    <td>500.00</td>
                    <td>25%</td>
                    <td>120.00</td>
                    <td class="total">620.00</td>
                    <td>05/01</td>
                </tr>
                <tr>
                    <th>Diogenes</th>
                    <td>600.00</td>
                    <td>11%</td>
                    <td>70.00</td>
                    <td class="total">450.00</td>
                    <td>06/02</td>
                </tr>
                <tr>
                    <th>Lara Julianna</th>
                    <td>1685.00</td>
                    <td>0%</td>
                    <td>0.00</td>
                    <td class="total">1685.00</td>
                    <td>07/02</td>
                </tr>
                <tr>
                    <th>Lara Julianna</th>
                    <td>100.00</td>
                    <td>20%</td>
                    <td>20.00</td>
                    <td class="total">120.00</td>
                    <td>07/02</td>
                </tr>
                <tr>
                    <th>Lara Julianna</th>
                    <td>78.00</td>
                    <td>0%</td>
                    <td>0.00</td>
                    <td class="total">78.00</td>
                    <td>07/02</td>
                </tr>
                <tr>
                    <th>Victor Techfilms</th>
                    <td>400.00</td>
                    <td>30%</td>
                    <td>120.00</td>
                    <td class="total">520.00</td>
                    <td>08/02</td>
                </tr>
                <tr>
                    <th>Debora</th>
                    <td>215.00</td>
                    <td>18%</td>
                    <td>35.00</td>
                    <td class="total">250.00</td>
                    <td>10/02</td>
                </tr>
                <tr>
                    <th>Raynnara amg lara</th>
                    <td>183.00</td>
                    <td>20%</td>
                    <td>36.00</td>
                    <td class="total">219.00</td>
                    <td>10/02</td>
                </tr>
                <tr>
                    <th>Lucas Brenner</th>
                    <td>700.00</td>
                    <td>25%</td>
                    <td>175.00</td>
                    <td class="total">875.00</td>
                    <td>10/02</td>
                </tr>
                <tr>
                    <th>Lucas Brenner</th>
                    <td>300.00</td>
                    <td>20%</td>
                    <td>60.00</td>
                    <td class="total">360.00</td>
                    <td>12/02</td>
                </tr>
                <tr>
                    <th>Lucas Brenner</th>
                    <td>150.00</td>
                    <td>20%</td>
                    <td>40.00</td>
                    <td class="total">190.00</td>
                    <td>12/02</td>
                </tr>
                <tr>
                    <th>Natan</th>
                    <td>150.00</td>
                    <td>0%</td>
                    <td>0.00</td>
                    <td class="total">150.00</td>
                    <td>12/02</td>
                </tr>
                <tr>
                    <th>Daniele/Mario</th>
                    <td>100.00</td>
                    <td>30%</td>
                    <td>30.00</td>
                    <td class="total">130.00</td>
                    <td>13/02</td>
                </tr>
                <tr>
                    <th>Maria Arcangela</th>
                    <td>220.00</td>
                    <td>20%</td>
                    <td>44.00</td>
                    <td class="total">264.00</td>
                    <td>14/02</td>
                </tr>
                <tr>
                    <th>Joao Pedro</th>
                    <td>300.00</td>
                    <td>20%</td>
                    <td>60.00</td>
                    <td class="total">360.00</td>
                    <td>16/01</td>
                </tr>
                <tr>
                    <th>Geovana Claro</th>
                    <td>300.00</td>
                    <td>20%</td>
                    <td>60.00</td>
                    <td class="total">360.00</td>
                    <td>16/01</td>
                </tr>
                <tr>
                    <th>Junior Entregador</th>
                    <td>120.00</td>
                    <td>20%</td>
                    <td>24.00</td>
                    <td class="total">114.00</td>
                    <td>16/02</td>
                </tr>
                <tr>
                    <th>Lucas Brenner</th>
                    <td>260.00</td>
                    <td>20%</td>
                    <td>55.00</td>
                    <td class="total">315.00</td>
                    <td>17/02</td>
                </tr>
                <tr>
                    <th>Lucas Brenner</th>
                    <td>100.00</td>
                    <td>30%</td>
                    <td>30.00</td>
                    <td class="total">130.00</td>
                    <td>17/02</td>
                </tr>
                <tr>
                    <th>Lucas Entregador</th>
                    <td>100.00</td>
                    <td>20%</td>
                    <td>20.00</td>
                    <td class="total">120.00</td>
                    <td>17/02</td>
                </tr>
                <tr>
                    <th>Lucas Brenner</th>
                    <td>200.00</td>
                    <td>20%</td>
                    <td>40.00</td>
                    <td class="total">240.00</td>
                    <td>18/02</td>
                </tr>
                <tr>
                    <th>Iago DF</th>
                    <td>500.00</td>
                    <td>20%</td>
                    <td>100.00</td>
                    <td class="total">600.00</td>
                    <td>19/02</td>
                </tr>
                <tr>
                    <th>Luan</th>
                    <td>400.00</td>
                    <td>20%</td>
                    <td>80.00</td>
                    <td class="total">480.00</td>
                    <td>20/01</td>
                </tr>
                <tr>
                    <th>JV Waquim</th>
                    <td>500.00</td>
                    <td>25%</td>
                    <td>120.00</td>
                    <td class="total">720.00</td>
                    <td>20/02</td>
                </tr>
                <tr>
                    <th>Natan</th>
                    <td>300.00</td>
                    <td>20%</td>
                    <td>60.00</td>
                    <td class="total">360.00</td>
                    <td>20/02</td>
                </tr>
                <tr>
                    <th>Lucas Brenner</th>
                    <td>200.00</td>
                    <td>20%</td>
                    <td>40.00</td>
                    <td class="total">240.00</td>
                    <td>21/02</td>
                </tr>
                <tr>
                    <th>Mario</th>
                    <td>150.00</td>
                    <td>20%</td>
                    <td>30.00</td>
                    <td class="total">180.00</td>
                    <td>21/02</td>
                </tr>
                <tr>
                    <th>Daniele/mario</th>
                    <td>130.00</td>
                    <td>20%</td>
                    <td>30.00</td>
                    <td class="total">160.00</td>
                    <td>22/02</td>
                </tr>
                <tr>
                    <th>Lucas Entregador</th>
                    <td>100.00</td>
                    <td>20%</td>
                    <td>20.00</td>
                    <td class="total">120.00</td>
                    <td>22/02</td>
                </tr>
                <tr>
                    <th>Leandro Amg Lara</th>
                    <td>260.00</td>
                    <td>15%</td>
                    <td>40.00</td>
                    <td class="total">300.00</td>
                    <td>23/01</td>
                </tr>
                <tr>
                    <th>Lucas Brenner</th>
                    <td>300.00</td>
                    <td>22%</td>
                    <td>70.00</td>
                    <td class="total">370.00</td>
                    <td>26/02</td>
                </tr>
                <tr>
                    <th>Lucas/efraim</th>
                    <td>200.00</td>
                    <td>20%</td>
                    <td>40.00</td>
                    <td class="total">240.00</td>
                    <td>26/02</td>
                </tr>
                <tr>
                    <th>Helyton</th>
                    <td>200.00</td>
                    <td>20%</td>
                    <td>40.00</td>
                    <td class="total">240.00</td>
                    <td>27/02</td>
                </tr>
                <tr>
                    <th>Lucas Brenner</th>
                    <td>180.00</td>
                    <td>22%</td>
                    <td>40.00</td>
                    <td class="total">220.00</td>
                    <td>28/02</td>
                </tr>
                <tr>
                    <th>Joao amg lara</th>
                    <td>300.00</td>
                    <td>20%</td>
                    <td>60.00</td>
                    <td class="total">360.00</td>
                    <td>31/02</td>
                </tr>
            </tbody>
            <tfoot>
                <tr>
                    <th colspan="5">CAPITAL TOTAL</th>
                    <td id="soma"></td>
                </tr>
            </tfoot>
        </table>
    </div>

    <script>
        function searchTable() {
            var input, filter, table, tr, td, i, txtValue;
            input = document.getElementById("searchInput");
            filter = input.value.toUpperCase();
            table = document.querySelector("table");
            tr = table.getElementsByTagName("tr");

            for (i = 0; i < tr.length; i++) {
                td = tr[i].getElementsByTagName("th")[0];
                if (td) {
                    txtValue = td.textContent || td.innerText;
                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                        tr[i].style.display = "";
                    } else {
                        tr[i].style.display = "none";
                    }
                }
            }
        }

        let total = document.querySelectorAll('.total');

        let valorFinal = Array.from(total).reduce((acc, item) => acc + parseFloat(item.textContent || item.innerText), 0);

        console.log(valorFinal);

        let soma = document.querySelector('#soma');

        valorFinal = valorFinal.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' });

        soma.innerHTML = valorFinal;


    </script>

</body>

</html>